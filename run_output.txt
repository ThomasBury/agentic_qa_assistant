🎯 Running Demo Questions
🤖 Initializing assistant with models...
   - SQL: gpt-5-mini
   - RAG: gpt-4o-mini
   - Composition: gpt-4o-mini

📊 Corpus: 5 chunks from 4 documents

============================================================
Demo Question 1/4

❓ Question: Monthly RAV4 HEV sales in Germany in 2024



📊 SQL Results:
┏━━━━━━┳━━━━━━━┳━━━━━━━━━━━┓
┃ year ┃ month ┃ contracts ┃
┡━━━━━━╇━━━━━━━╇━━━━━━━━━━━┩
│ 2024 │ 1     │ 74        │
│ 2024 │ 2     │ 64        │
│ 2024 │ 3     │ 80        │
│ 2024 │ 4     │ 82        │
│ 2024 │ 5     │ 76        │
│ 2024 │ 6     │ 113       │
│ 2024 │ 7     │ 77        │
│ 2024 │ 8     │ 56        │
│ 2024 │ 9     │ 131       │
│ 2024 │ 10    │ 86        │
│ 2024 │ 11    │ 90        │
│ 2024 │ 12    │ 84        │
└──────┴───────┴───────────┘

💾 SQL Query:
╭──────────────────────────────────────────────────────────╮
│ SELECT fs.year, fs.month, SUM(fs.contracts) AS contracts │
│ FROM FACT_SALES fs                                       │
│ JOIN DIM_MODEL dm ON dm.model_id = fs.model_id           │
│ JOIN DIM_COUNTRY dc ON dc.country_code = fs.country_code │
│ WHERE dm.model_name = 'RAV4'                             │
│   AND dm.powertrain = 'HEV'                              │
│   AND dc.country = 'Germany'                             │
│   AND fs.year = 2024                                     │
│ GROUP BY fs.year, fs.month                               │
│ ORDER BY fs.month LIMIT 10000                            │
╰──────────────────────────────────────────────────────────╯

🔢 Token Usage:
╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Token Usage Summary:                                                                                                                                                                                                             │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
⏱️ Executed in 4ms, returned 12 rows

🧭 Routing Decision:
Decision: SQL
Confidence: 0.95
Latency: 0ms
Matched keywords:
  time: monthly
  location: germany
  models: rav4
  metrics: sales
  powertrain: hev
Reasons:
  • Strong SQL indicators: ['time', 'location', 'models', 'metrics', 'powertrain']

============================================================
Demo Question 2/4

❓ Question: What is the standard Toyota warranty for Europe?



📚 Answer:
╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ The standard Toyota warranty for Europe is five (5) years or 100,000 kilometers, whichever occurs first [1 p.1].                                                                                                                 │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

📖 Citations:
[1] Contract_Toyota_2023.pdf p.1 (contract)
    Toyota Contract 2023 Master Sales Agreement Toyota Europe (2023) Section 4. Warranty Terms: The Stan...
[2] Warranty_Policy_Appendix.pdf p.1 (warranty)
    Warranty Policy Appendix Warranty Policy Appendix European Markets Toyota: 5 years / 100,000 km cove...
[3] Contract_Lexus_2023.pdf p.1 (contract)
    Lexus Contract 2023 Retailer Agreement Lexus Europe (2023 Edition) Clause 5. Warranty Coverage: Four...
⏱️ Retrieved 3 chunks in 464ms, synthesized in 2451ms

🧭 Routing Decision:
Decision: RAG
Confidence: 0.90
Latency: 0ms
Matched keywords:
  location: europe
  models: toyota
  warranty: warranty
  policy: standard
Reasons:
  • RAG indicators present and no core SQL signals (metrics/time)

============================================================
Demo Question 3/4

❓ Question: Where is the tire repair kit located for the UX?



📚 Answer:
╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ The tire repair kit for the UX is located in the cargo area under the rear floor panel. It is stored in the left compartment after lifting the rear cargo floor panel [1, p. 4].                                                 │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

📖 Citations:
[1] Toyota_UX_Manual_2023.txt p.1 (manual)
    Toyota UX 2023 Owner's Manual Toyota UX 2023 Owner's Manual Chapter 1: Getting Started Welcome to yo...
⏱️ Retrieved 1 chunks in 352ms, synthesized in 1340ms

🧭 Routing Decision:
Decision: RAG
Confidence: 0.80
Latency: 0ms
Matched keywords:
  models: ux
  manual: repair, tire, where
Reasons:
  • RAG indicators present and no core SQL signals (metrics/time)

============================================================
Demo Question 4/4

❓ Question: Compare Toyota vs Lexus SUV sales in Western Europe in 2024 and summarize key warranty differences



🔀 Hybrid Answer:
╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                 Comparison of Toyota vs Lexus SUV Sales in Western Europe (2024)                                                                                 │
│                                                                                                                                                                                                                                  │
│                                                                                                            Sales Data                                                                                                            │
│                                                                                                                                                                                                                                  │
│ In 2024, the sales figures for Toyota and Lexus SUVs in Western Europe are as follows:                                                                                                                                           │
│                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                  │
│   Brand    Total Sales                                                                                                                                                                                                           │
│  ━━━━━━━━━━━━━━━━━━━━━━                                                                                                                                                                                                          │
│   Toyota   20,763                                                                                                                                                                                                                │
│   Lexus    12,438                                                                                                                                                                                                                │
│                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                  │
│                                                                                                     Key Warranty Differences                                                                                                     │
│                                                                                                                                                                                                                                  │
│ When comparing the warranty offerings for Toyota and Lexus, the following key points are noted:                                                                                                                                  │
│                                                                                                                                                                                                                                  │
│  • Lexus Warranty:                                                                                                                                                                                                               │
│     • Coverage: Four (4) years or 100,000 km, whichever occurs first [Contract_Lexus_2023.pdf p.1].                                                                                                                              │
│  • Toyota Warranty:                                                                                                                                                                                                              │
│     • Coverage: Five (5) years or 100,000 kilometers, whichever occurs first [Contract_Toyota_2023.pdf p.1].                                                                                                                     │
│  • Corrosion Perforation Warranty:                                                                                                                                                                                               │
│     • Both brands offer a corrosion perforation warranty of 12 years (unlimited km) [Warranty_Policy_Appendix.pdf p.1].                                                                                                          │
│                                                                                                                                                                                                                                  │
│                                                                                                             Summary                                                                                                              │
│                                                                                                                                                                                                                                  │
│ In summary, Toyota leads in SUV sales in Western Europe for 2024 with 20,763 units sold compared to Lexus's 12,438 units. Regarding warranties, Toyota provides a longer duration than Lexus, while both brands offer the same   │
│ corrosion perforation warranty.                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                  │
│                                                                                                          SQL Query Used                                                                                                          │
│                                                                                                                                                                                                                                  │
│ The following SQL query was used to retrieve the sales data:                                                                                                                                                                     │
│                                                                                                                                                                                                                                  │
│                                                                                                                                                                                                                                  │
│  SELECT dm.brand, SUM(fs.contracts) AS total_sales                                                                                                                                                                               │
│  FROM FACT_SALES fs                                                                                                                                                                                                              │
│  JOIN DIM_MODEL dm ON dm.model_id = fs.model_id                                                                                                                                                                                  │
│  JOIN DIM_COUNTRY dc ON dc.country_code = fs.country_code                                                                                                                                                                        │
│  WHERE (dm.brand = 'Toyota' OR dm.brand = 'Lexus')                                                                                                                                                                               │
│  AND dm.segment = 'SUV'                                                                                                                                                                                                          │
│  AND dc.region = 'Western Europe'                                                                                                                                                                                                │
│  AND fs.year = 2024                                                                                                                                                                                                              │
│  GROUP BY dm.brand                                                                                                                                                                                                               │
│  ORDER BY total_sales DESC LIMIT 10000                                                                                                                                                                                           │
│                                                                                                                                                                                                                                  │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

🔢 Token Usage:
╭──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ Token Usage Summary:                                                                                                                                                                                                             │
│ - text-embedding-3-small: input=0 (cached=0), output=0, reasoning=0, embed=38, total=0                                                                                                                                           │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

📖 Citations:
[1] Contract_Lexus_2023.pdf p.1 (contract)
[2] Warranty_Policy_Appendix.pdf p.1 (warranty)
[3] Contract_Toyota_2023.pdf p.1 (contract)

🔍 Execution Trace:
SQL: 10ms, 2 rows
RAG: 272ms retrieval + 2649ms synthesis
     3 chunks, confidence: 0.7641839504241943
Composition: 10706ms
⏱️ Total execution time: 23387ms

🧭 Routing Decision:
Decision: HYBRID
Confidence: 0.90
Latency: 0ms
Matched keywords:
  location: europe, western
  models: lexus, toyota
  metrics: sales, sum, compare, vs
  warranty: warranty
  comparison: compare, vs, difference
  summary: summarize, key
Reasons:
  • Hybrid indicators: ['comparison', 'summary']
  • Also has SQL indicators: ['location', 'models', 'metrics']
  • Also has RAG indicators: ['warranty']

============================================================
🧮 Wrote token usage JSON to tokens_demo.json
✅ All demo questions completed!
